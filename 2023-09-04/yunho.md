# 의존관계 주입(Dependency Injection)란?

## 배경

테스트 코드, 소프트웨어 설계에 대해 공부를 하다 보니 DI란 단어를 많이 접하게 됐어요. 이전 프론트 공부할 때는 한 번도 들어본 적이 없는 단어인데 생각보다 중요한 개념인 것 같아서 이번 기회에 찾아봤어요.

## 요약

### DI란?

Dependency Injection을 우리말로 번역하면 `의존관계 주입`이라고 할 수 있어요. 흔히 "A가 B를 의존한다"라고 표현할 수 있는데 다른 말로 `의존 대상인 B가 변하면 A에 영향을 미친다`라고 할 수 있어요.

### 어떤 개념과 연관 있을까

DI에 관한 글을 보면 `구현이 얼마큼 드러나느냐`와 관련 있는 것 같아요.

- 함수 (혹은 컴포넌트) 간의 관계에서 클라이언트 코드가 서비스나 의존 객체를 직접 생성하거나 구성하지 않고, 외부에서 제공받아 사용하면서, `결합도를 낮추는 장점`이 있다고 하네요.
  - 예시로, UI 컴포넌트에서 비즈니스 로직을 직접 다루지 않고 props로 결과값만 전달받아서 결합도를 낮출 수 있다고 생각해요.
- DI는 `구현을 덜 드러낼 수 있는 장점`도 있다고 생각해요. 검색하다가 어떤 블로그에서 본 문장인데 "클라이언트 코드가 서비스의 세부 구현을 알 필요 없이 인터페이스를 통해 서비스를 사용할 수 있게 한다"라고 하네요. 제가 이해한 대로 쓰자면 결합도를 낮추는 장점과 같은 맥락으로 클라이언트 코드가 구체적인 서비스 구현을 인스턴스 화하거나 제어하지 않고, 외부에서 입력받아 구체적인 서비스 로직에 종속되지 않을 수 있는 장점이 있을 것 같아요.

### 테스트 코드에서 활용 방안

- 테스트 코드를 작성할 때 이러한 의존성을 구분해서 mocking 할 수 있어요. `mocking이라는 게 테스트 중에 실제 의존성을 대신하여 가짜 객체를 사용하는 기술이니까요`
  - DOM을 로직이 아닌 의존성인 외부 인프라로 취급하면 jsdom이나 기타 라이브러리를 통해 mocking
  - DB를 로직이 아닌 의존성인 외부 인프라로 취급하면 mockingoose와 같은 라이브러리를 통해 mocking

## 마치며

DI에 대해서 자세히 공부한 게 아니라 블로그 몇 개만 보고 제 생각을 정리한 거라 적절한 예시나 개념에 대해서 더 알아봐야 할 것 같아요.

함수나 클래스 간의 관계같이 `지속 가능한 소프트웨어 설계`와 관련된 내용인 것 같아 중요하다는 생각이 들었어요.

## 참고 자료

- https://tecoble.techcourse.co.kr/post/2021-04-27-dependency-injection/
- https://velog.io/@jeong-god/DI란-무엇인가
